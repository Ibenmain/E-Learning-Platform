"""
Build an example package using the limited Python C API.
"""
from __future__ import annotations

import os

import numpy as np
from setuptools import Extension
from setuptools import setup

macros = [('NPY_NO_DEPRECATED_API', 0), ('Py_LIMITED_API', '0x03060000')]

limited_api = Extension(
    'limited_api',
    sources=[os.path.join('.', 'limited_api.c')],
    include_dirs=[np.get_include()],
    define_macros=macros,
)

extensions = [limited_api]

setup(
    ext_modules=extensions,
)
